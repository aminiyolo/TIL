# Cookie // 2023년 6월 20일 (Tue)

## 쿠키의 등장 배경

### http는 비연결성과 무상태성을 가지고 있기 때문에, 한번 서버에 요청 후 응답을 받게 되면 연결이 끊기게 된다. 그러므로, 다음에 또 다시 서버에 요청을 보낼 때 서버는 클라이언트를 식별할 수 없게 된다. 그래서, 연결이 끊겨도 기억할 수 있는 정보를 보관 하기 위해 쿠키가 등장하게 되었다.

### 쿠키 -> 브라우저에 저장되는 key와 value로 이루어진 작은 크기의 문자열이다.

#### 쿠키의 특징

- 4KB의 크기 제한
- 만료 시간 설정 가능
- HTTP 요청시 따로 설정하지 않아도 자동으로 전달

#### 쿠키의 몇 가지 활용 예시

- 로그인 유지
- N일 동안 보지 않기 기능

#### 쿠키의 단점

- 4KB의 적은 용량
- HTTP 요청 시 모든 쿠키 자동으로 전달 => 불필요한 트래픽 양 증가
- XSS 공격에 취약
- XSRF 공격에 취약

#### 쿠키 단점 해결법(XSS, XSRF)

- HttpOnly 속성 사용 => 자바스크립트로 쿠키를 조회하는 것 방지
- SameSite 속성 사용 => strict: 사이트와 같은 도메인 요청에만 쿠키를 전송, Lax: 안전한 메서드, 작업이 최상위 레벨 Navigation에서 이루어 지는 경우 다른 도메인이라도 쿠키를 전송
- Secure 속성 사용 => HTTPS로 통신 하는 경우에만 쿠키가 전송
