# npm vs yarn // 2021년 9월 15일(수)

## node로 프로젝트를 진행할 때 많이 쓰는 패키지 관리 툴로는 npm과 yarn이 있다. 이 두 가지의 차이점과 각각의 정보에 대해 궁금증을 가지게 되었고, 공부한 내용을 정리해보자.

## npm

#### NPM(Node Package Manager)은 자바스크립트 언어를 위한 패키지 관리자로, Node.js의 기본 패키지 관리자이다. 전세계적으로 가장 많은 이들이 사용하고 있는 패키지 관리 툴이다. 이러한 관리 툴을 이용하여 Node.js로 만들어진 모듈을 웹에서 받아서 쉽게 설치하고 관리해주는 프로그램으로 개발자 입장에서는 단 몇 줄의 command로 기존 공개된 모듈들을 설치하고 활용할 수 있다. 또한 그렇게 설치된 모듈들이 업데이트되었는지를 체크해주는 등 JavaScript로 진행하는 프로젝트를 굉장히 편하게 진행할 수 있도록 도움을 준다.

### npm 명령어

#### npm init : package.json 생성

#### npm install : package.json 파일 및 해당 종속성에 나열된 모든 모듈을 설치

#### npm install package_name@버전 : 특정 패키지의 특정 버전 설치

#### npm install 주소 : 특정 저장소 내 패키지 설치. 주로 github을 이와 같이 설치합니다.

#### npm install package_name -g : 옵션. 글로벌로 설치. 로컬의 다른 프로젝트도 이 패키지를 사용 가능하게 됩니다.

#### npm uninstall : 패키지 삭제 명령어입니다.

#### npm update : 설치한 패키지들을 업데이트해줍니다.

#### npm dedupe : 중복 설치된 패키지들을 정리해주는 명령어입니다.

### package.json이란?

#### package.json은 프로젝트 정보와 의존성(dependencies)을 관리하는 문서이다. 우리가 어떤 패키지(오픈소스)를 사용하는지, 어떤 버전을 사용하는지 등을 기록함으로써 어느 곳에서도 동일한 개발 환경을 구축할 수 있게 해준다.

## yarn

#### yarn은 페이스북에서 만든 자바스크립트 패키지 매니저이다. npm과 같은 기능을 수행한다. yarn이 npm에 비하여 가볍다고 한다. 그 이유는 yarn의 탄생 배경에 있다. yarn은 기본적으로 npm의 단점을 느꼈기에 이를 향상시키기 위해 만들어진 매니저 툴인데, 여기서 말하는 npm의 단점으로는 속도(performance), 안정성(stability), 보안성(security) 등이 있다.

### 속도(perfomance)

#### yarn은 다운받은 패키지 데이터를 캐시(cache)에 저장하여, 중복된 데이터는 다운로드하지않고, 캐시에 저장된 파일을 활용함으로써 이론적으로 npm에 비해 패키지 설치속도가 매우 빠르다. 또한 여러개의 패키지를 설치할 때 병렬로 처리하기 때문에 performance와 speed가 증가 된다. (npm은 순차적)

### 안정성(stability)/보안성(security)

#### npm은 패키지가 설치될 때 자동으로 코드와 의존성을 실행할 수 있도록 허용한다. 이 특징은 편리한 기능이지만 안정성을 위협할 수 있다. 특히나 보장된 정책 없이 등록한 패키지가 존재할 수 있다는 점에서 더욱 위험도가 높다. 반면 yarn은 yarn.lock이나 package.json으로 부터 설치만 하며, yarn.lock은 모든 디바이스에 같은 패키지를 설치하는 것을 보장하기 때문에 버전의 차이로 인해 생기는 버그를 방지해줄 수 있다.

### yarn 명령어

#### yarn init : package.json 생성

#### yarn or yarn install : package.json 파일 및 해당 종속성에 나열된 모든 모듈을 설치

#### yarn add package_name@버전 : 특정 패키지의 특정 버전 설치

#### yarn add 주소 : 특정 저장소 내 패키지 설치. 주로 github을 이와 같이 설치합니다.

#### yarn global add package_name : 옵션. 글로벌로 설치. 로컬의 다른 프로젝트도 이 패키지를 사용 가능하게 됩니다.

#### yarn remove : 패키지 삭제 명령어입니다.

#### yarn upgrade : 설치한 패키지들을 업데이트해줍니다.

#### npm dedupe : 중복 설치된 패키지들을 정리해주는 명령어입니다.

### 결론: npm vs yarn

#### 현재 npm과 yarn의 performance와 stability 차이는 거의 차이가 없다고 한다. 하지만 버전의 차이로 인한 버그방지 등의 기능은 yarn이 npm보다 더 좋은 툴이라고 설명할 수 도 있다. 그러나, npm은 사용자 수와 접근성에 있어서 장점이 있기 때문에 각자의 장단점이 있다고 생각한다. 현재까지는 npm만을 사용했지만, 앞으로는 yarn을 이용해보며 직접 부딪혀보며 어떠한 것이 나에게 더 편한지 알아나가야 겠다는 생각이 들었다.
