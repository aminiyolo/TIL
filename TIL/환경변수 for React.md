# React 환경변수 // 10월 22일 (Fri)

## React를 사용하여 프론트를 개발하며 node.js를 이용한 server 환경에서처럼 .env 파일에 환경변수를 설정해놓고 사용해보았지만, 이상하게 변수값을 불러오지 못하는 상황이 발생했다. React에서 환경변수를 정의하는 규칙이 있다는 것을 알게 되었고 다음과 같이 간단하게 정리해본다.

## React 환경변수를 설정하기 위해 알아야 할 내용

### .env 파일

#### env 파일에 환경변수를 정의하여 변수 값으로 받아오는 이유는 보안과 유지보수에 용이하기 때문이다. 이러한 env 파일은 작업중인 프로젝트의 최상위 루트 폴더에 만들어야 한다.

### React에서 환경변수 설정 규칙 -> 반드시 변수명은 `REACT_APP_` 으로 시작되어야 한다. -> CRA(create-react-app)에서는 보안이 필요한 환경변수의 유출을 방지하기 위해 `REACT_APP_`으로 시작되지 않는 환경변수는 무시한다.

```
// .env 파일
const REACT_APP_KEY = "SECRET KEY";
```

### 위와 같이 env 파일에 `REACT_APP_`를 이용하여 변수를 정의해주어야 한다.

```
// js 파일
const KEY = process.env.REACT_APP_KEY;
```

### env 파일에서 정의해준 환경변수 값을 위와 같이 process.env를 사용하여 불러올 수 있다.

## 중요한점: process.env는 React를 실행 시점에 로드되어 사용되어지기 때문에 env 파일을 수정하고 나면 무조건 React 프로젝트를 다시 실행해주어야만 정상적으로 값을 불러올 수 있다.
