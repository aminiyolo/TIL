## CSS in JS and CSS in CSS // 2021년 8월 7일(토)

### 리액트를 접한 뒤로 코딩을 할 때, Styled components를 이용하여 css-in-js 형태로 코드를 짜고 있다. css-in-js를 쓰는 것이 당연히 옳고 이런 방식이 가장 좋다고 생각을 하며 써왔다.

### 하지만, 여러 컴포넌트들과 레이아웃을 계속해서 만들다 보니 어느샌가 어떤 특정 컴포넌트의 코드를 수정하러 코드를 확인 했을 때, 그 styled components를 만든 나 조차도 이게 어떤 것을 의미하는지 어느 부분을 의미하는지 파악하기 힘들었다.

### styled component의 변수명이 명확히 어떤 것인지 나타낼 수 없다면, 나중에 그 코드를 다시 본인이 확인할 때 어떠한 것인지 알기 어렵다는 것을 깨달았다. 이러한 생각이 'css-in-js는 css-in-css보다 어떠한 점에서 장점이 있고 둘 중 어느 것을 써야 밎는걸까?'로 나아갔고 정리하게 되었다.

### CSS-in-JS

#### css-in-js를 사용하면, Global namespace: => class명이 build time에 유니크한 해시값으로 변경되기 때문에 별도의 명명 규칙이 필요하지 않다.

#### Dependencies: => CSS가 컴포넌트 단위로 추상화되기 때문에 CSS 파일(모듈)간에 의존성을 신경 쓰지 않아도 된다.

#### Dead Code Elimination: => 컴포넌트와 CSS가 동일한 구조로 관리되므로 수정 및 삭제가 용이하다.

#### Minification: => 네임스페이스 충돌을 막기위해 BEM 같은 방법론을 사용하면 class 명이 길어질 수 있지만, CSS-in-JS는 짧은 길이의 유니크한 클래스를 자동으로 생성한다.

#### Sharing Constants: => CSS 코드를 JS에 작성하므로 컴포넌트의 상태에 따른 동적 코딩이 가능하다.

#### Non-deterministic Resolution: => CSS가 컴포넌트 스코프에서만 적용되기 때문에 우선순위에 따른 문제가 발생하지 않는다.

#### Isolation: => CSS가 JS와 결합해 있기 때문에 상속에 관한 문제를 신경 쓰지 않아도 된다.

### 이러한 css-in-js의 단점은 무엇일까?

#### 첫번째로, 번들크기가 커지는 단점이 있다. 두번째는 css-in-js를 사용하면 인터랙티브한 웹페이지의 성능을 저하시킨다. 즉, 인터랙션이 늦어진다. CSS-in-JS의 경우, 상태가 변경되면 우선 JS의 CSS 코드를 읽어와서 파싱하는 단계부터 시작하기 때문에 아무래도 늦어질 수 밖에 없다.

### 결론

#### 결론적으로는, CSS-in-js 와 CSS-in-CSS 중 한가지 방식만이 옳은 것이 아니라, 만들고자 하는 웹서비스가 어떠한 용도로 사용되는지에 따라 결정해야 한다고 한다. 정적인 웹사이트라면 CSS-in-JS를 사용하는 것이 더 낫고, 인터랙션 및 속도가 중요한 웹사이트라면 CSS-in-JS를 사용하는 것이 더 낫다고 한다.

#### 개발의 효율성을 생각하면 CSS-in-JS를, 웹서비스의 속도를 생각하면 CSS-in-CSS를 사용해야 한다고 한다.
